<div class="card card-custom h-100 d-flex flex-column animate__animated animate__fadeInUp" *ngIf="challengePack">
  <!-- Media -->
  <div class="ratio ratio-16x9 rounded-top overflow-hidden position-relative">
    <app-lottie-loader
      [image]="challengePack.media.imageUrl"
      [animationUrl]="challengePack.media.animationUrl"
      alt="{{ challengePack.title }}"
      class="position-absolute top-0 start-0 w-100 h-100 object-fit-cover"
    />
  </div>

  <div class="card-body d-flex flex-column">
    <!-- Title + optional share -->
    <div class="d-flex align-items-center mb-2">
      <h5 class="card-title mb-0">{{ challengePack.title }}</h5>
      <button
        class="btn btn-sm btn-link text-secondary ms-auto p-0"
        (click)="sharechallengePack(challengePack)"
        title="Share this challengePack"
      >
        <i class="bi bi-share-fill"></i>
      </button>
    </div>

    <p class="card-text text-secondary mb-3">{{ challengePack.subTitle }}</p>

    <!-- Stats aligned to left -->
    <div class="d-flex text-secondary mb-4">
      <div class="me-4"><i class="bi bi-calendar3 me-1"></i>{{ challengePack.daysToComplete }}d</div>
      <div class="me-4"><i class="bi bi-lightning-charge me-1"></i>{{ challengePack.totalPoint }}pt</div>
      <div><i class="bi bi-people me-1"></i>{{no_member }}m</div>
    </div>

    <!-- Footer row: Open/View + small Share -->
    <div class="mt-auto d-flex align-items-center">
      <a
        [routerLink]="['/challenges', slugify(challengePack.title)]"
        class="btn btn-primary-custom"
      >
        View
      </a>
      <button
        class="btn btn-sm btn-outline-secondary ms-3"
        (click)="sharechallengePack(challengePack)"
        title="Share challengePack"
      >
        <i class="bi bi-share-fill"></i>
      </button>
    </div>
  </div>
</div>
